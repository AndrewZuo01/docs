---
title: 'chat服务端源码部署'
sidebar_position: 2
---

# chat服务端源码部署


```
OpenIM是即时通讯解决方案，它并不是一个独立的产品，本身不包含账号系统的注册和登录。
为方便大家测试，我们开源了包括登录注册功能的Chat仓库，和OpenIM组合后，可成为一个聊天产品。
```

## 1、服务器环境说明
Linux系统8G及以上内存，
`go 1.18`或以上版本


## 2、拉取项目源码

```
git clone https://github.com/OpenIMSDK/chat.git
```

## 3、修改配置文件chat/config/config.yaml


如果已申请阿里云短信服务，修改chat/config/config.yaml配置项，如果未申请先略过，默认验证码为666666

```
verifyCode:
  validTime: 300 # 验证码有效时间
  validCount: 5 # 验证码有效次数
  uintTime: 86400 # 单位时间间隔
  maxCount: 10 # 单位时间内最大获取次数
  superCode: 666666 # 默认手机验证码(只有use为空时生效)
  len: 6 # 验证码长度
  use:  # 如申请了阿里短信服务，设置为ali使其生效
  ali:
    endpoint: "dysmsapi.aliyuncs.com"
    accessKeyId: ""
    accessKeySecret: ""
    signName: ""
    verificationCodeTemplateCode: ""

```




## 4、编译构建

```
cd chat/script
chmod +x *.sh
./build_all_service.sh
```


## 5、启动服务
```
./start_all.sh; 
```

## 6、检查服务

```
./check_all.sh
```

## 7、停止服务
```
./stop_all.sh
```




## 8、IM 开放端口

| 端口      | 说明                  | 操作                                  |
| --------- | --------------------- | ------------------------------------- |
| TCP:10008 | App 调用 API 端口     | 端口放行或 nginx 反向代理，关闭防火墙 |
| TCP:10009 | 管理后台调用 API 端口 | 端口放行或 nginx 反向代理，关闭防火墙 |

	