---
title: 获取会话列表
hide_title: true
---

## 获取用户所有会话

### 简要描述

- 获取用户所有会话

### 请求 URL

- `post`

### 请求方式

- `{{host}}/conversation/get_all_conversations`

### Header

| header 名   | 示例值                                                                                                                                                                                                      | 选填 | 类型   | 说明                         |
| :---------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--- | ------ | ---------------------------- |
| operationID | testGordon1111                                                                                                                                                                                              | 必填 | string | operationID 用于全局链路追踪 |
| token       | eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiJvcGVuSU0xMjM0NTYiLCJQbGF0Zm9ybUlEIjoxLCJleHAiOjE2OTU3MTMxOTcsIm5iZiI6MTY4NzkzNjg5NywiaWF0IjoxNjg3OTM3MTk3fQ.5RgJOANfnutTlNT8ai0yXG5JPh8JgW5toOwJUC-Hqig | 必填 | string | 管理员或者用户 token         |
|             |                                                                                                                                                                                                             | 必填 | string |                              |

### 请求参数示例

```json
{
  "ownerUserID": "4251711205"
}
```

| 字段名      | 选填 | 类型   | 说明            |
| :---------- | :--- | :----- | --------------- |
| ownerUserID | 必填 | string | 要获取的用户 ID |

### 成功返回示例

```json
{
  "errCode": 0,
  "errMsg": "",
  "errDlt": "",
  "data": {
    "conversations": [
      {
        "ownerUserID": "2769092611",
        "conversationID": "group_148898590",
        "recvMsgOpt": 0,
        "conversationType": 2,
        "userID": "",
        "groupID": "148898590",
        "unreadCount": 0,
        "draftTextTime": 0,
        "isPinned": true,
        "attachedInfo": "",
        "isPrivateChat": false,
        "groupAtType": 0,
        "isNotInGroup": false,
        "ex": "",
        "updateUnreadCountTime": 1678073536432,
        "burnDuration": 30
      },
      {
        "ownerUserID": "2769092611",
        "conversationID": "group_1771417060",
        "recvMsgOpt": 0,
        "conversationType": 2,
        "userID": "",
        "groupID": "1771417060",
        "unreadCount": 0,
        "draftTextTime": 0,
        "isPinned": false,
        "attachedInfo": "",
        "isPrivateChat": false,
        "groupAtType": 0,
        "isNotInGroup": false,
        "ex": "",
        "updateUnreadCountTime": 1677918292730,
        "burnDuration": 30
      },
      {
        "ownerUserID": "2769092611",
        "conversationID": "group_817601139",
        "recvMsgOpt": 0,
        "conversationType": 2,
        "userID": "",
        "groupID": "817601139",
        "unreadCount": 0,
        "draftTextTime": 0,
        "isPinned": false,
        "attachedInfo": "",
        "isPrivateChat": false,
        "groupAtType": 0,
        "isNotInGroup": false,
        "ex": "",
        "updateUnreadCountTime": 1678081182271,
        "burnDuration": 30
      },
      {
        "ownerUserID": "2769092611",
        "conversationID": "single_3853887332",
        "recvMsgOpt": 0,
        "conversationType": 1,
        "userID": "3853887332",
        "groupID": "",
        "unreadCount": 0,
        "draftTextTime": 0,
        "isPinned": false,
        "attachedInfo": "",
        "isPrivateChat": false,
        "groupAtType": 0,
        "isNotInGroup": false,
        "ex": "",
        "updateUnreadCountTime": 1678089396200,
        "burnDuration": 30
      }
    ]
  }
}
```

### 成功返回示例的参数说明

| 参数名                              | 类型    | 说明                                                             |
| :---------------------------------- | :------ | :--------------------------------------------------------------- |
| conversations                       | array   | 会话列表                                                         |
| conversations.ownerUserID           | string  | 会话的拥有者用户 ID                                              |
| conversations.conversationID        | string  | 会话 ID                                                          |
| conversations.recvMsgOpt            | string  | 接收消息参数，0 为接收消息，1 为不接收消息，2 为接收消息但不提醒 |
| conversations.conversationType      | string  | 会话类型                                                         |
| conversations.userID                | string  | 会话用户 ID                                                      |
| conversations.groupID               | string  | 会话的群                                                         |
| conversations.unreadCount           | number  | 未读数                                                           |
| conversations.draftTextTime         | number  | 草稿时间                                                         |
| conversations.isPinned              | boolean | 是否指定                                                         |
| conversations.attachedInfo          | string  | openIM 使用的拓展字段                                            |
| conversations.isPrivateChat         | number  | 是否开启阅后即焚                                                 |
| conversations.groupAtType           | number  | 群会话公告强提示类型，群公告有人@ownerUserID，@全体 特殊标识符   |
| conversations.ex                    | string  | 用户使用的拓展字段                                               |
| conversations.updateUnreadCountTime | number  | 最后一次读取该会话的时间                                         |
| conversations.burnDuration          | number  | 阅后即焚消息持续时间                                             |

### 失败返回示例

```json
{
  "errCode": 0,
  "errMsg": "",
  "errDlt": "",
  "data": {
    "conversations": null
  }
}
```

### 失败返回示例的参数说明

| 参数名  | 类型   | 说明                          |
| :------ | :----- | :---------------------------- |
| errCode | int    | 错误码,具体查看全局错误码文档 |
| errMsg  | string | 错误简要信息                  |
| errDlt  | errDlt | 错误详细信息                  |
