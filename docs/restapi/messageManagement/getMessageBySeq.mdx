---
title: 根据seq获取消息
hide_title: true
---


<center>

## 通过seq拉取消息

</center>

### 简要描述
- 通过seq列表拉取消息（管理员和用户本人可调用）
### 请求URL
- `post`
### 请求方式
- `{{host}}/msg/pull_msg_by_seq`


### Header
|header名|示例值|选填|类型|说明|
|:----    |:-------    |:--- |---|------      |
|operationID|testGordon1111|必填|string|operationID用于全局链路追踪|
|token|eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySUQiOiJvcGVuSU0xMjM0NTYiLCJQbGF0Zm9ybUlEIjoxLCJleHAiOjE2OTU4MjE4MDUsIm5iZiI6MTY4ODA0NTUwNSwiaWF0IjoxNjg4MDQ1ODA1fQ.cY4ecn4qNO59uOkjLiJXSVg57INKOeeXxsNA2ABVFeg|必填|string|管理员或者用户token|


### 请求参数示例


```json
{
  "userID": "100",
  "order": 0,
  "seqRanges": [
    {
      "conversationID": "si_100_101",
      "begin": 1,
      "end": 10,
      "num": 10
    }
  ]
}
```
|字段名|选填|类型|说明|
|:----    |:-------    |:--- |---|
|userID|必填|string|需要获取消息的用户ID|
|seqs|必填|array|seq数组，例如[1,2,3,4]|
|groupSeqs|选填|object|群map,k为群ID，v为seq数组|
|groupSeqs.seqs|选填|array|seq数组，例如[1,2,3,4]|
### 成功返回示例


```json
{
  "errCode": 0,
  "errMsg": "",
  "errDlt": "",
  "data": {
    "list": [
      {
        "sendID": "1055596916",
        "recvID": "1232144282",
        "groupID": "",
        "clientMsgID": "c2f36a1d775ac5ca4f8c7ccedf4c66af",
        "serverMsgID": "0036a5d0c650b93573a0230020c39110",
        "senderPlatformID": 0,
        "senderNickname": "",
        "senderFaceURL": "",
        "sessionType": 1,
        "msgFrom": 200,
        "contentType": 1204,
        "content": "CjoKGgoKMTA1NTU5NjkxNhirmIegBiIGSIeEw58GGhwKDG9wZW5JTTEyMzQ1NhIM57O757uf6YCa55+lEhZXZSBoYXZlIGJlY29tZSBmcmllbmRzGqMBeyJmcmllbmQiOnsib3duZXJVc2VySUQiOiIxMDU1NTk2OTE2IiwiY3JlYXRlVGltZSI6MTY3NzgzOTQwMywiZnJpZW5kVXNlciI6eyJjcmVhdGVUaW1lIjoxNjc2NzIyNjk1fX0sIm9wVXNlciI6eyJ1c2VySUQiOiJvcGVuSU0xMjM0NTYiLCJuaWNrbmFtZSI6Iuezu+e7n+mAmuefpSJ9fQ==",
        "seq": 1,
        "sendTime": 1677839403555,
        "createTime": 1677839403554,
        "status": 0,
        "options": {
          "offlinePush": true,
          "unreadCount": true
        },
        "offlinePushInfo": {
          "title": "We have become friends",
          "desc": "We have become friends",
          "ex": "We have become friends",
          "iOSPushSound": "xxx",
          "iOSBadgeCount": true
        },
        "atUserIDList": null,
        "msgDataList": null,
        "attachedInfo": "",
        "ex": ""
      }
    ],
    "groupMsgDataList": {
      "1122": {
        "msgDataList": [
          {
            "sendID": "",
            "recvID": "",
            "groupID": "1122",
            "clientMsgID": "",
            "serverMsgID": "",
            "senderPlatformID": 0,
            "senderNickname": "",
            "senderFaceURL": "",
            "sessionType": 3,
            "msgFrom": 0,
            "contentType": 0,
            "content": null,
            "seq": 1,
            "sendTime": 0,
            "createTime": 0,
            "status": 0,
            "options": null,
            "offlinePushInfo": null,
            "atUserIDList": null,
            "msgDataList": null,
            "attachedInfo": "",
            "ex": ""
          }
        ]
      }
    }
  }
}
```
### 成功返回示例的参数说明


|参数名|类型|说明|
|:----    |:-------    |:--- |
|errCode|int|错误码,0表示成功|
|errMsg|string|错误简要信息,无错误时为空|
|errDlt|errDlt|错误详细信息,无错误时为空|
|data|object|通用数据对象，具体结构见下方|
|list|array|单聊以及写扩散群聊消息列表|
|list.sendID|string|发送者ID(可以为管理员ID，可以为用户ID)|
|list.recvID|string|接收者ID|
|list.groupID|string|群聊ID，单聊为空|
|list.clientMsgID|string|客户端消息ID，此ID为消息唯一ID|
|list.serverMsgID|string|服务器消息ID，预留字段|
|list.senderPlatformID|string|发送者平台号， 1-&gt;IOS,2-&gt;Android,3-&gt;Windows,4-&gt;OSX,5-&gt;Web,5-&gt;MiniWeb,7-&gt;Linux,8-&gt;AndroidPad,9-&gt;IPad|
|list.senderNickname|string|发送者昵称|
|list.senderFaceURL|string|发送者头像|
|list.sessionType|string|会话类型，单聊为1，群聊（普通写扩散）为2,大群(读扩散接口)为3，通知会话为4|
|list.msgFrom|string|消息来源，100来源于用户发送，200来源于管理员发送或者系统广播通知等|
|list.contentType|string|消息类型，101表示文本，102表示图片..详细参考消息类型格式描述文档|
|list.content|string|消息具体内容|
|list.seq|string|消息唯一序列号ID|
|list.sendTime|string|消息发送时间|
|list.createTime|string|消息创建时间|
|list.status|string|消息状态，具体查看消息状态码描述|
|list.options|object|消息附属开关字段，具体查看消息options描述|
|list.offlinePushInfo|object|离线推送的具体内容|
|list.offlinePushInfo.title|string|推送的标题|
|list.offlinePushInfo.desc|string|推送的具体描述|
|list.offlinePushInfo.ex|string|扩展字段|
|list.offlinePushInfo.iOSPushSound|string|IOS的推送声音|
|list.offlinePushInfo.iOSBadgeCount|string|IOS推送消息是否计入桌面图标未读数|
|list.atUserIDList|object|强推用户列表，仅仅在群聊下有效|
|list.msgDataList|object|预留字段|
|list.attachedInfo|string|消息附加信息|
|list.ex|string|扩展字段|
|groupMsgDataList|object|群聊消息对象，k为群ID，v为消息列表|
|groupMsgDataList.msgDataList|array|单个群的消息列表，其中类型|
### 失败返回示例


```json
{
  "errCode": 1001,
  "errMsg": "ArgsError",
  "errDlt": "invalid character ':' after object key:value pair"
}
```
### 失败返回示例的参数说明


|参数名|类型|说明|
|:----    |:-------    |:--- |
|errCode|int|错误码,具体查看全局错误码文档|
|errMsg|string|错误简要信息|
|errDlt|errDlt|错误详细信息|

