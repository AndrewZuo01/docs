## ðŸš€ Using Demo
We strongly recommend that you first run the framework-related example [DEMO](https://github.com/openimsdk/open-im-uniapp-demo) we have prepared for you. This will not only allow you to intuitively experience the functionality of OpenIMSDK, but will also help you quickly locate and solve problems during the actual integration process.

## Tips

### If only using uni-app to develop H5 or Mini Program versions

> When using uni-app to develop H5 and Mini Programs (or native Mini Programs), only the pure JS version of the SDK can be used.

- Use the [JSSDK](/sdks/quickstart/miniProgram) directly, **no need** to refer to the integration steps below.

## Integration Steps

For APP side development, you **must** follow the steps below, import the SDK using the cloud plugin, and call using npm package. This is because the implementation method on the APP side is through [App Native Language Plugin](https://uniapp.dcloud.net.cn/plugin/native-plugin.html).

### 1. Add Dependencies

> The official plugin has been uploaded to the [dcloud plugin market](https://ext.dcloud.net.cn/plugin?id=6577)

- Select the corresponding project and package name to import the SDK

![uni_import](./assets/uni_import.png)

- Open the `manifest.json` file in the root directory of the SDK import project, select **App Native Plugin Configuration**, and choose cloud plugin to import.

![uni_import_manifest](./assets/uni_import_manifest.png)

- Download npm package to simplify the introduction and use of the SDK, and wrap the API in Promise form.

> openim-uniapp-polyfill >= 1.2.0 and above versions are already compatible with JSSDK.

```bash
npm install openim-uniapp-polyfill open-im-sdk
```

### 2. Import in Project (Pure APP Projects)

```javascript
import IMSDK from 'openim-uniapp-polyfill';

IMSDK.asyncApi('login', IMSDK.uuid(), {
  userID: '123',
  token: 'token',
});

const onConnectSuccess = () => {
  // Connection successful
};
// Set listener
IMSDK.subscribe(IMSDK.IMEvents.OnConnectSuccess, onConnectSuccess);
// Unsubscribe listener
IMSDK.unsubscribe(IMSDK.IMEvents.OnConnectSuccess, onConnectSuccess);
```

### 3. Import in Project (APP + H5/Mini Program Projects)

> The latest npm package on the non-APP side already supports compatibility with JSSDK. The usage method of the npm package will differ from pure APP development, and developers can choose flexibly according to the actual situation of their projects.

> The SDK must be imported using the cloud plugin, and the version of `openim-uniapp-polyfill` needs to be >= 1.2.0.

- Note 1: Use uni-app's method to call the listener, passing in methods from `IMSDK.IMEvents`, because there are differences in the casing of listeners between JSSDK and APP, which are automatically converted in the npm package.

- Note 2: In some APIs, there may be differences in usage due to platform support. When using, check the corresponding platform API documentation for differences:
  - Pass in the correct platformID depending on the platform
  - Login API parameters are inconsistent
  - Android/iOS need to [initSDK](/sdks/api/initialization/initSDK) before use
  - Creating image, file messages use different APIs, need to use **conditional compilation** to call different methods.
  - ...

#### 3.1 Cross-Platform Usage

> Method One: In cases where cross-platform parameters and method names are consistent, use uni-app's method to call.

- This is a multi-platform compatible writing method. In a cross-platform situation, check whether the API return content structure is consistent.

```javascript
import IMSDK from 'openim-uniapp-polyfill';

IMSDK.asyncApi('createTextMessage', IMSDK.uuid(), 'text')
  .then((data) => {
    // do something
  })
```

> Method Two: In cases where cross-platform parameters and method names are inconsistent, use **conditional compilation** to handle methods with large differences in parameters.

- The APP side needs to call [initSDK](/sdks/api/initialization/initSDK) before use.

```javascript
import IMSDK from 'openim-uniapp-polyfill';

// #ifdef H5 || MP-WEIXIN
IMSDK.asyncApi('login', IMSDK.uuid(), {
  userID : '123',
  token: 'token',
  platformID: 5,
  wsAddr: 'ws://your-server-ip:10003',
  apiAddr: 'http://your-server-ip:10002',
});
// #endif

// #ifdef APP

-PLUS
IMSDK.asyncApi('login', IMSDK.uuid(), {
  userID: '123',
  token: 'token',
});
// #endif
```

### 4. Cloud Package Custom Debugging Base

> Note: The package name needs to be consistent with the one set when importing the cloud plugin in step one.

![uni_build](./assets/uni_build.png)

### 4. Starting with Custom Debugging Base

> For local APP side debugging, a custom debugging base must be packaged and debugging started using the custom base.

![uni_run](./assets/uni_run.png)

### 5. Packaging

> When packaging and releasing the APP side, use Release -> Native APP Cloud Packaging.